Input: nums = [2,6,3,4]
Output: 4
Explanation: We can do the following operations:
- Choose index i = 2 and replace nums[2] with gcd(3,4) = 1. Now we have nums = [2,6,1,4].
- Choose index i = 1 and replace nums[1] with gcd(6,1) = 1. Now we have nums = [2,1,1,4].
- Choose index i = 0 and replace nums[0] with gcd(2,1) = 1. Now we have nums = [1,1,1,4].
- Choose index i = 2 and replace nums[3] with gcd(1,4) = 1. Now we have nums = [1,1,1,1].
#code:
class Solution {
public:
    int minOperations(vector<int>& nums) {
        int n=nums.size();
        int One_cnt=0;
        for(auto i:nums){
            if(i==1){
                One_cnt++;
            }
        }
        int gcd_all = nums[0];
        
        for(int i=1; i<n; i++){
            gcd_all = gcd(nums[i] , gcd_all);
        }
        //if gcd_all is eqaul to 1 we can make every el is 1 , if not we cant make every el 1
        if(gcd_all>1) return -1;
        if(One_cnt >= 1) {
            return n - One_cnt;
        }
        //find shortes subarray with 1 gcd
        int len = n+1;
        for(int i=0; i<n; i++){
            int g = nums[i];
            for(int j=i+1; j<n; j++){
                g = gcd(g,nums[j]);
                if(g==1){
                    len = min(len , j-i+1);
                    break;
                }
            }
        }
        return len-1 + (n-1);
    }
};
